### WAF 绕过方法

#### 白名单注入

不常用，必须满足条件才可以使用；

通过修改 header 中国的 `x-forwarded-for` 以及其他头来进行伪造注入

<br>

#### 静态资源

WAF 有些情况下不会检测静态文件的后缀请求；  
常见的静态文件有："js,jpg,txt,css"

譬如下方就通过静态文件后缀请求进行注入：  
`xxxx.js?id=1' or 1=1 -- -`

<br>

#### URL 白名单

WAF 会设置一个白名单记录不拦截的 URL

注意！这里是只要你构造的 URL 中存在白名单中任意一段字符就不会被拦截，不需要完全和白名单内的 URL 完全一致！

<br>

#### 爬虫白名单

WAF 根据 user-agent 识别代理类型  
假如类型为百度或者 360 的爬虫的话，就会让攻击者短时间内多次请求而不拦截

通过伪造 user-agent 来快速扫描目录

<br>

#### 特殊数据库绕过

WAF 会对 SQL 语句进行过滤

使用以下方法可以绕过，具体原理看下面：  
`union /*!44509select*/1,2,3 -- -`

<br>

`/*!44509select*/` 表示当 mysql 版本大于 4.0 时，会执行后面的代码，而这里作为一个注释出现，就可以绕过 WAF 的检测，只不过使用的概率比较小而已

<br>

####
